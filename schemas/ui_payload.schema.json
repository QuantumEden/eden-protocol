{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "EdenQuest UI Payload",
  "type": "object",
  "description": "Bundled output used by frontend systems for rendering Tree, XP, avatar, and session UI.",
  "properties": {
    "user_id": {
      "type": "string",
      "description": "Encrypted user identity (UUID or symbolic token)"
    },
    "avatar": {
      "type": "object",
      "$ref": "./avatar.schema.json",
      "description": "Avatar state including archetype, aura, glyph, and sacred path"
    },
    "tree_of_life": {
      "type": "object",
      "$ref": "./tree_of_life.schema.json",
      "description": "Tree health and trait values"
    },
    "xp_profile": {
      "type": "object",
      "$ref": "./xp_meritcoin.schema.json",
      "description": "Current XP level, lock state, and merit progression"
    },
    "edenquest": {
      "type": "object",
      "$ref": "./edenquest.schema.json",
      "description": "Current symbolic quest and metaphoric structure"
    },
    "session_aura_status": {
      "type": "string",
      "enum": ["stable", "flickering", "surging", "locked"],
      "description": "Represents symbolic stability of the user session"
    },
    "group_opt_in": {
      "type": "boolean",
      "description": "Whether the user has joined symbolic multiplayer rituals"
    },
    "sacred_path": {
      "type": "string",
      "description": "Userâ€™s selected sacred path (e.g. Hermeticism, Buddhism)"
    },
    "dao": {
      "type": "object",
      "$ref": "./dao.schema.json",
      "description": "DAO access tier, vote status, last proposal metadata"
    },
    "world_tree": {
      "type": "object",
      "$ref": "./world_tree.schema.json",
      "description": "Real-time collective symbolic world state"
    }
  },
  "required": [
    "user_id",
    "avatar",
    "tree_of_life",
    "xp_profile",
    "edenquest",
    "session_aura_status",
    "group_opt_in",
    "sacred_path",
    "dao",
    "world_tree"
  ],
  "additionalProperties": false
}
